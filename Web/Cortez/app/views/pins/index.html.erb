<p id="notice"><%= notice %></p>
<script src="//maps.google.com/maps/api/js?v=3.13&sensor=false&libraries=geometry" type="text/javascript"></script>
<script src="//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js" type="text/javascript"></script>



<div >
  <div id="map" style='width: 100%; height: 85vh;'>
</div>
</div> 


<!--
@gmapsoptions = {
     "map_options" => {"center_latitude" => 40, 
                       "center_longitude" => 73,
                       "detect_location" => false,
                       "center_on_user" => false,
                       "auto_adjust" => false,
                       "auto_zoom" => false,
                       "zoom" => 8 }
                 }

--> 



<script type="text/javascript">

var handler = Gmaps.build('Google');
handler.buildMap({ internal: {id: 'map'} }, function(){
  if(navigator.geolocation)
    navigator.geolocation.getCurrentPosition(displayOnMap);
});

function displayOnMap(position){
  var marker = handler.addMarker({
    lat: position.coords.latitude,
    lng: position.coords.longitude

  });

  handler.map.centerOn(marker);

};
</script> 


<body onload="up206b.initialize()"> 
  <!-- side panel div container --> 
  <div style="position:absolute; width:300px; height: 100%; overflow:auto; float:left;"> 
    <!-- search box -->
    <div style="border:1px solid #ccc; background:#e5e5e5; padding:10px;">
      <input type="text" id="address">
      <input type="button" value="find" onClick="up206b.geocode()">
    </div>
  </div> 
</body>

